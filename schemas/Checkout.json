{"$schema":"http://json-schema.org/draft-04/schema#","title":"Checkout","type":"object","additionalProperties":false,"properties":{"options":{"type":"array","items":{"$ref":"#/definitions/CheckoutOption"}},"questions":{"$ref":"#/definitions/BookingQuestionsDto"}},"definitions":{"CheckoutOption":{"type":"object","additionalProperties":false,"properties":{"type":{"type":"string","enum":["AGENT_AFFILIATE","AGENT_CUSTOMER","AGENT_RESELLER","CUSTOMER_FULL_PAYMENT","CUSTOMER_PARTIAL_PAYMENT","CUSTOMER_NO_PAYMENT"]},"label":{"type":"string"},"questions":{"type":"array","items":{"$ref":"#/definitions/QuestionSpecificationDto"}},"amount":{"type":"number"},"currency":{"type":"string"},"formattedAmount":{"type":"string"},"partialPayment":{"type":"boolean"},"minPartialAmount":{"type":"number"},"formattedMinPartialAmount":{"type":"string"},"invoice":{"$ref":"#/definitions/CustomerInvoiceDto"},"paymentMethods":{"$ref":"#/definitions/PaymentMethods"}},"required":["partialPayment"]},"QuestionSpecificationDto":{"type":"object","additionalProperties":false,"properties":{"questionId":{"type":"string"},"questionCode":{"type":"string"},"label":{"type":"string"},"help":{"type":"string"},"placeholder":{"type":"string"},"dataType":{"type":"string","enum":["SHORT_TEXT","LONG_TEXT","INT","DOUBLE","BOOLEAN","DATE","DATE_AND_TIME","OPTIONS"]},"dataFormat":{"type":"string","enum":["EMAIL_ADDRESS","URL","PHONE_NUMBER","COUNTRY","LANGUAGE","TIME","DAY_OF_MONTH","MONTH","YEAR","PATTERN"]},"pattern":{"type":"string"},"required":{"type":"boolean"},"defaultValue":{"type":"string"},"flags":{"type":"array","items":{"type":"string"}},"selectFromOptions":{"type":"boolean"},"selectMultiple":{"type":"boolean"},"answerOptions":{"type":"array","items":{"$ref":"#/definitions/AnswerOptionDto"}},"answers":{"type":"array","items":{"type":"string"}},"originalQuestion":{"type":"string"}},"required":["required","selectFromOptions","selectMultiple"]},"AnswerOptionDto":{"type":"object","additionalProperties":false,"properties":{"value":{"type":"string"},"label":{"type":"string"}}},"CustomerInvoiceDto":{"type":"object","additionalProperties":false,"properties":{"id":{"type":"integer"},"issueDate":{"type":"integer","format":"utc-millisec"},"currency":{"type":"string"},"includedAppliedTaxes":{"type":"array","items":{"$ref":"#/definitions/AppliedTaxDto"}},"excludedAppliedTaxes":{"type":"array","items":{"$ref":"#/definitions/AppliedTaxDto"}},"issuer":{"$ref":"#/definitions/ItemDto"},"issuerCompany":{"$ref":"#/definitions/CompanyDto"},"recipient":{"$ref":"#/definitions/CustomerDto"},"promoCode":{"$ref":"#/definitions/PromoCodeDto"},"customLineItems":{"type":"array","items":{"$ref":"#/definitions/CustomLineItemDto"}},"productInvoices":{"type":"array","items":{"$ref":"#/definitions/ProductInvoiceDto"}},"payments":{"type":"array","items":{"$ref":"#/definitions/CustomerPaymentDto"}},"paidAmountAsMoney":{"$ref":"#/definitions/Money"},"remainingAmountAsMoney":{"$ref":"#/definitions/Money"},"invoiceNumber":{"type":"string"},"recipientName":{"type":"string"},"issuerName":{"type":"string"},"paidAmountAsText":{"type":"string"},"remainingAmountAsText":{"type":"string"},"lodgingTaxes":{"type":"array","items":{"$ref":"#/definitions/AppliedTaxDto"}},"free":{"type":"boolean"},"totalAsText":{"type":"string"},"totalAsMoney":{"$ref":"#/definitions/Money"},"totalDiscountedAsText":{"type":"string"},"totalDiscountedAsMoney":{"$ref":"#/definitions/Money"},"totalDiscountAsMoney":{"$ref":"#/definitions/Money"},"totalDueAsMoney":{"$ref":"#/definitions/Money"},"totalDueAsText":{"type":"string"},"excludedTaxes":{"type":"boolean"},"totalExcludedTaxAsMoney":{"$ref":"#/definitions/Money"},"totalExcludedTaxAsText":{"type":"string"},"includedTaxes":{"type":"boolean"},"totalIncludedTaxAsMoney":{"$ref":"#/definitions/Money"},"totalIncludedTaxAsText":{"type":"string"},"totalTaxAsMoney":{"$ref":"#/definitions/Money"},"totalTaxAsText":{"type":"string"}},"required":["free","excludedTaxes","includedTaxes"]},"AppliedTaxDto":{"type":"object","additionalProperties":false,"properties":{"title":{"type":"string"},"tax":{"type":"number"},"currency":{"type":"string"},"taxAsMoney":{"$ref":"#/definitions/Money"},"taxAsText":{"type":"string"}}},"Money":{"type":"object","additionalProperties":false,"properties":{"negative":{"type":"boolean"},"zero":{"type":"boolean"},"amount":{"type":"number"},"currencyUnit":{"$ref":"#/definitions/CurrencyUnit"},"scale":{"type":"integer"},"amountMajor":{"type":"number"},"amountMajorLong":{"type":"integer"},"amountMajorInt":{"type":"integer"},"amountMinor":{"type":"number"},"amountMinorLong":{"type":"integer"},"amountMinorInt":{"type":"integer"},"minorPart":{"type":"integer"},"positive":{"type":"boolean"},"positiveOrZero":{"type":"boolean"},"negativeOrZero":{"type":"boolean"}},"required":["negative","zero","scale","amountMajorLong","amountMajorInt","amountMinorLong","amountMinorInt","minorPart","positive","positiveOrZero","negativeOrZero"]},"CurrencyUnit":{"type":"object","additionalProperties":false,"properties":{"code":{"type":"string"},"numericCode":{"type":"integer"},"decimalPlaces":{"type":"integer"},"symbol":{"type":"string"},"currencyCode":{"type":"string"},"defaultFractionDigits":{"type":"integer"},"numeric3Code":{"type":"string"},"countryCodes":{"type":"array","items":{"type":"string"}},"pseudoCurrency":{"type":"boolean"}},"required":["numericCode","decimalPlaces","defaultFractionDigits","pseudoCurrency"]},"ItemDto":{"type":"object","additionalProperties":false,"properties":{"id":{"type":"integer"},"title":{"type":"string"},"externalId":{"type":"string"},"flags":{"type":"array","items":{"type":"string"}}}},"CompanyDto":{"type":"object","additionalProperties":false,"properties":{"registrationNumber":{"type":"string"},"vatRegistrationNumber":{"type":"string"}}},"CustomerDto":{"type":"object","additionalProperties":false,"properties":{"contactDetailsHidden":{"type":"boolean"},"contactDetailsHiddenUntil":{"type":"integer","format":"utc-millisec"},"id":{"type":"integer"},"created":{"type":"integer","format":"utc-millisec"},"uuid":{"type":"string"},"email":{"type":"string"},"title":{"type":"string"},"firstName":{"type":"string"},"lastName":{"type":"string"},"personalIdNumber":{"type":"string"},"language":{"type":"string"},"nationality":{"type":"string"},"sex":{"type":"string"},"dateOfBirth":{"type":"integer","format":"utc-millisec"},"phoneNumber":{"type":"string"},"phoneNumberCountryCode":{"type":"string"},"address":{"type":"string"},"postCode":{"type":"string"},"state":{"type":"string"},"place":{"type":"string"},"country":{"type":"string"},"organization":{"type":"string"},"passportId":{"type":"string"},"passportExpDay":{"type":"string"},"passportExpMonth":{"type":"string"},"passportExpYear":{"type":"string"},"credentials":{"$ref":"#/definitions/CustomerCredentialsDto"}},"required":["contactDetailsHidden"]},"CustomerCredentialsDto":{"type":"object","additionalProperties":false,"properties":{"username":{"type":"string"},"password":{"type":"string"}}},"PromoCodeDto":{"type":"object","additionalProperties":false,"properties":{"id":{"type":"integer"},"code":{"type":"string"},"description":{"type":"string"}}},"CustomLineItemDto":{"type":"object","additionalProperties":false,"properties":{"id":{"type":"integer"},"title":{"type":"string"},"currency":{"type":"string"},"unitPriceDate":{"type":"integer","format":"utc-millisec"},"quantity":{"type":"integer"},"unitPrice":{"type":"number"},"calculatedDiscount":{"type":"number"},"customDiscount":{"type":"number"},"calculatedDiscountAmount":{"type":"number"},"tax":{"$ref":"#/definitions/TaxDto"},"taxAmount":{"type":"number"},"taxesAsMoney":{"type":"array","items":{"$ref":"#/definitions/AppliedTaxDto"}},"lineItemType":{"type":"string","enum":["BOOKING_FEE","CUSTOM_PRICE","DISCOUNT","CANCELLATION_FEE","OTHER"]},"commission":{"type":"number"},"totalAsMoney":{"$ref":"#/definitions/Money"},"totalDiscountedAsMoney":{"$ref":"#/definitions/Money"},"totalDueAsMoney":{"$ref":"#/definitions/Money"},"taxAsMoney":{"$ref":"#/definitions/Money"},"discountedUnitPriceAsMoney":{"$ref":"#/definitions/Money"},"total":{"type":"number"},"totalAsText":{"type":"string"},"totalDiscountedAsText":{"type":"string"},"totalDueAsText":{"type":"string"},"taxAsText":{"type":"string"},"totalDiscounted":{"type":"number"},"discountedUnitPrice":{"type":"number"},"discountedUnitPriceAsText":{"type":"string"},"totalDue":{"type":"number"},"unitPriceAsMoney":{"$ref":"#/definitions/Money"},"unitPriceAsText":{"type":"string"},"discount":{"type":"number"},"calculatedDiscountAmountAsMoney":{"$ref":"#/definitions/Money"},"discountAmountAsMoney":{"$ref":"#/definitions/Money"},"discountAmountAsText":{"type":"string"}},"required":["quantity","calculatedDiscount","customDiscount","discount"]},"TaxDto":{"type":"object","additionalProperties":false,"properties":{"id":{"type":"integer"},"ownerId":{"type":"integer"},"title":{"type":"string"},"percentage":{"type":"number"},"included":{"type":"boolean"},"roundingMode":{"type":"string","enum":["UP","DOWN","CEILING","FLOOR","HALF_UP","HALF_DOWN","HALF_EVEN","UNNECESSARY"]}},"required":["percentage","included"]},"ProductInvoiceDto":{"type":"object","additionalProperties":false,"properties":{"id":{"type":"integer"},"issueDate":{"type":"integer","format":"utc-millisec"},"currency":{"type":"string"},"includedAppliedTaxes":{"type":"array","items":{"$ref":"#/definitions/AppliedTaxDto"}},"excludedAppliedTaxes":{"type":"array","items":{"$ref":"#/definitions/AppliedTaxDto"}},"productBookingId":{"type":"integer"},"title":{"type":"string"},"product":{"$ref":"#/definitions/ProductInfoDto"},"productCategory":{"type":"string","enum":["ACCOMMODATION","ACTIVITIES","CAR_RENTALS","TRANSPORT"]},"productConfirmationCode":{"type":"string"},"dates":{"type":"string"},"lodgingTax":{"$ref":"#/definitions/AppliedTaxDto"},"customLineItems":{"type":"array","items":{"$ref":"#/definitions/CustomLineItemDto"}},"lineItems":{"type":"array","items":{"$ref":"#/definitions/ProductInvoiceLineItemDto"}},"free":{"type":"boolean"},"totalAsText":{"type":"string"},"totalAsMoney":{"$ref":"#/definitions/Money"},"totalDiscountedAsText":{"type":"string"},"totalDiscountedAsMoney":{"$ref":"#/definitions/Money"},"totalDiscountAsMoney":{"$ref":"#/definitions/Money"},"totalDueAsMoney":{"$ref":"#/definitions/Money"},"totalDueAsText":{"type":"string"},"excludedTaxes":{"type":"boolean"},"totalExcludedTaxAsMoney":{"$ref":"#/definitions/Money"},"totalExcludedTaxAsText":{"type":"string"},"includedTaxes":{"type":"boolean"},"totalIncludedTaxAsMoney":{"$ref":"#/definitions/Money"},"totalIncludedTaxAsText":{"type":"string"},"totalTaxAsMoney":{"$ref":"#/definitions/Money"},"totalTaxAsText":{"type":"string"}},"required":["free","excludedTaxes","includedTaxes"]},"ProductInfoDto":{"type":"object","additionalProperties":false,"properties":{"id":{"type":"integer"},"title":{"type":"string"},"price":{"type":"number"},"flags":{"type":"array","items":{"type":"string"}},"slug":{"type":"string"},"keyPhoto":{"$ref":"#/definitions/PhotoDto"},"vendor":{"$ref":"#/definitions/VendorDto"},"externalId":{"type":"string"},"productCategory":{"type":"string","enum":["ACCOMMODATION","ACTIVITIES","CAR_RENTALS","TRANSPORT"]},"cancellationPolicy":{"$ref":"#/definitions/CancellationPolicyDto"}}},"PhotoDto":{"type":"object","additionalProperties":false,"properties":{"id":{"type":"integer"},"originalUrl":{"type":"string"},"description":{"type":"string"},"alternateText":{"type":"string"},"flags":{"type":"array","items":{"type":"string"}},"derived":{"type":"array","items":{"$ref":"#/definitions/DerivedPhotoDto"}},"fileName":{"type":"string"}}},"DerivedPhotoDto":{"type":"object","additionalProperties":false,"properties":{"name":{"type":"string"},"url":{"type":"string"},"cleanUrl":{"type":"string"}}},"VendorDto":{"type":"object","additionalProperties":false,"properties":{"id":{"type":"integer"},"title":{"type":"string"},"description":{"type":"string"},"currencyCode":{"type":"string"},"countryCode":{"type":"string"},"phoneNumber":{"type":"string"},"emailAddress":{"type":"string"},"website":{"type":"string"},"logoStyle":{"type":"string"},"invoiceIdNumber":{"type":"string"},"timeZone":{"type":"string"},"logo":{"$ref":"#/definitions/PhotoDto"},"showInvoiceIdOnTicket":{"type":"boolean"},"showAgentDetailsOnTicket":{"type":"boolean"},"showPaymentsOnInvoice":{"type":"boolean"},"companyEmailIsDefault":{"type":"boolean"}},"required":["showInvoiceIdOnTicket","showAgentDetailsOnTicket","showPaymentsOnInvoice","companyEmailIsDefault"]},"CancellationPolicyDto":{"type":"object","additionalProperties":false,"properties":{"id":{"type":"integer"},"title":{"type":"string"},"penaltyRules":{"type":"array","items":{"$ref":"#/definitions/PenaltyRuleDto"}},"tax":{"$ref":"#/definitions/TaxDto"},"defaultPolicy":{"type":"boolean"}},"required":["defaultPolicy"]},"PenaltyRuleDto":{"type":"object","additionalProperties":false,"properties":{"id":{"type":"integer"},"cutoffHours":{"type":"integer"},"charge":{"type":"number"},"chargeType":{"type":"string"}},"required":["cutoffHours","charge"]},"ProductInvoiceLineItemDto":{"type":"object","additionalProperties":false,"properties":{"id":{"type":"integer"},"title":{"type":"string"},"currency":{"type":"string"},"unitPriceDate":{"type":"integer","format":"utc-millisec"},"quantity":{"type":"integer"},"unitPrice":{"type":"number"},"calculatedDiscount":{"type":"number"},"customDiscount":{"type":"number"},"calculatedDiscountAmount":{"type":"number"},"tax":{"$ref":"#/definitions/TaxDto"},"taxAmount":{"type":"number"},"taxesAsMoney":{"type":"array","items":{"$ref":"#/definitions/AppliedTaxDto"}},"itemBookingId":{"type":"string"},"costItemId":{"type":"integer"},"costItemTitle":{"type":"string"},"costGroupTitle":{"type":"string"},"supportsDiscount":{"type":"boolean"},"people":{"type":"integer"},"total":{"type":"number"},"totalAsText":{"type":"string"},"totalAsMoney":{"$ref":"#/definitions/Money"},"totalDiscountedAsText":{"type":"string"},"totalDiscountedAsMoney":{"$ref":"#/definitions/Money"},"totalDueAsMoney":{"$ref":"#/definitions/Money"},"totalDueAsText":{"type":"string"},"taxAsMoney":{"$ref":"#/definitions/Money"},"taxAsText":{"type":"string"},"totalDiscounted":{"type":"number"},"discountedUnitPrice":{"type":"number"},"discountedUnitPriceAsMoney":{"$ref":"#/definitions/Money"},"discountedUnitPriceAsText":{"type":"string"},"totalDue":{"type":"number"},"unitPriceAsMoney":{"$ref":"#/definitions/Money"},"unitPriceAsText":{"type":"string"},"discount":{"type":"number"},"calculatedDiscountAmountAsMoney":{"$ref":"#/definitions/Money"},"discountAmountAsMoney":{"$ref":"#/definitions/Money"},"discountAmountAsText":{"type":"string"}},"required":["quantity","calculatedDiscount","customDiscount","supportsDiscount","people","discount"]},"CustomerPaymentDto":{"type":"object","additionalProperties":false,"properties":{"id":{"type":"integer"},"amount":{"type":"number"},"currency":{"type":"string"},"comment":{"type":"string"},"transactionDate":{"type":"integer","format":"utc-millisec"},"authorizationCode":{"type":"string"},"activeCustomerInvoiceId":{"type":"integer"},"paymentType":{"type":"string","enum":["WEB_PAYMENT","POINT_OF_SALE","CASH","VOUCHER","GIFT_CARD"]},"cardNumber":{"type":"string"},"paymentId":{"type":"integer"},"paymentContractId":{"type":"integer"},"paymentReferenceId":{"type":"string"},"paymentProviderType":{"type":"string"},"isRefundable":{"type":"boolean"},"totalRefundedAmount":{"type":"number"},"giftCard":{"$ref":"#/definitions/GiftCardDto"},"useDcc":{"type":"boolean"},"dccAmount":{"type":"number"},"dccCurrency":{"type":"string"},"dccExchangeRate":{"type":"number"},"dccMarkup":{"type":"number"},"dccMarkupPercentage":{"type":"number"},"dccFee":{"type":"number"},"refundable":{"type":"boolean"},"amountAsMoney":{"$ref":"#/definitions/Money"},"amountAsText":{"type":"string"},"refundedAmountAsText":{"type":"string"},"remainingRefundableAmount":{"type":"number"},"dccAmountAsMoney":{"$ref":"#/definitions/Money"},"dccAmountAsText":{"type":"string"}},"required":["isRefundable","useDcc","refundable"]},"GiftCardDto":{"type":"object","additionalProperties":false,"properties":{"id":{"type":"integer"},"code":{"type":"string"}}},"PaymentMethods":{"type":"object","additionalProperties":false,"properties":{"allowedMethods":{"type":"array","items":{"type":"string","enum":["CARD","CASH","VOUCHER","RESERVE_FOR_EXTERNAL_PAYMENT"]}},"cardProvider":{"$ref":"#/definitions/CardPaymentProvider"}}},"CardPaymentProvider":{"type":"object","additionalProperties":false,"properties":{"title":{"type":"string"},"description":{"type":"string"},"logo":{"type":"string"},"providerId":{"type":"string"},"providerType":{"type":"string"},"uti":{"type":"string"},"token":{"type":"string"},"questions":{"type":"array","items":{"$ref":"#/definitions/QuestionSpecificationDto"}}}},"BookingQuestionsDto":{"type":"object","additionalProperties":false,"properties":{"mainContactDetails":{"type":"array","items":{"$ref":"#/definitions/QuestionSpecificationDto"}},"activityBookings":{"type":"array","items":{"$ref":"#/definitions/ActivityBookingQuestionsDto"}},"accommodationBookings":{"type":"array","items":{"$ref":"#/definitions/AccommodationBookingQuestionsDto"}},"rentalBookings":{"type":"array","items":{"$ref":"#/definitions/RentalBookingQuestionsDto"}},"transportBookings":{"type":"array","items":{"$ref":"#/definitions/TransportBookingQuestionsDto"}}}},"ActivityBookingQuestionsDto":{"type":"object","additionalProperties":false,"properties":{"bookingId":{"type":"integer"},"activityId":{"type":"integer"},"activityTitle":{"type":"string"},"questions":{"type":"array","items":{"$ref":"#/definitions/QuestionSpecificationDto"}},"passengers":{"type":"array","items":{"$ref":"#/definitions/PassengerQuestionsDto"}},"pickupQuestions":{"type":"array","items":{"$ref":"#/definitions/QuestionSpecificationDto"}},"dropoffQuestions":{"type":"array","items":{"$ref":"#/definitions/QuestionSpecificationDto"}}}},"PassengerQuestionsDto":{"type":"object","additionalProperties":false,"properties":{"bookingId":{"type":"integer"},"pricingCategoryId":{"type":"integer"},"pricingCategoryTitle":{"type":"string"},"passengerDetails":{"type":"array","items":{"$ref":"#/definitions/QuestionSpecificationDto"}},"questions":{"type":"array","items":{"$ref":"#/definitions/QuestionSpecificationDto"}},"extras":{"type":"array","items":{"$ref":"#/definitions/ExtraQuestionsDto"}}}},"ExtraQuestionsDto":{"type":"object","additionalProperties":false,"properties":{"bookingId":{"type":"integer"},"extraId":{"type":"integer"},"extraTitle":{"type":"string"},"questions":{"type":"array","items":{"$ref":"#/definitions/QuestionSpecificationDto"}}}},"AccommodationBookingQuestionsDto":{"type":"object","additionalProperties":false,"properties":{"bookingId":{"type":"integer"},"accommodationId":{"type":"integer"},"accommodationTitle":{"type":"string"},"questions":{"type":"array","items":{"$ref":"#/definitions/QuestionSpecificationDto"}},"rooms":{"type":"array","items":{"$ref":"#/definitions/RoomQuestionsDto"}}}},"RoomQuestionsDto":{"type":"object","additionalProperties":false,"properties":{"bookingId":{"type":"integer"},"roomTypeId":{"type":"integer"},"roomTypeTitle":{"type":"string"},"roomRateTitle":{"type":"string"},"startDate":{"type":"string"},"endDate":{"type":"string"},"questions":{"type":"array","items":{"$ref":"#/definitions/QuestionSpecificationDto"}},"guests":{"type":"array","items":{"$ref":"#/definitions/PersonQuestionsDto"}},"extras":{"type":"array","items":{"$ref":"#/definitions/ExtraQuestionsDto"}}}},"PersonQuestionsDto":{"type":"object","additionalProperties":false,"properties":{"personId":{"type":"integer"},"details":{"type":"array","items":{"$ref":"#/definitions/QuestionSpecificationDto"}}}},"RentalBookingQuestionsDto":{"type":"object","additionalProperties":false,"properties":{"bookingId":{"type":"integer"},"rentalId":{"type":"integer"},"rentalTitle":{"type":"string"},"questions":{"type":"array","items":{"$ref":"#/definitions/QuestionSpecificationDto"}},"items":{"type":"array","items":{"$ref":"#/definitions/ItemQuestionsDto"}}}},"ItemQuestionsDto":{"type":"object","additionalProperties":false,"properties":{"bookingId":{"type":"integer"},"itemTypeId":{"type":"integer"},"itemTypeTitle":{"type":"string"},"questions":{"type":"array","items":{"$ref":"#/definitions/QuestionSpecificationDto"}},"people":{"type":"array","items":{"$ref":"#/definitions/PersonQuestionsDto"}},"extras":{"type":"array","items":{"$ref":"#/definitions/ExtraQuestionsDto"}}}},"TransportBookingQuestionsDto":{"type":"object","additionalProperties":false,"properties":{"bookingId":{"type":"integer"},"routeId":{"type":"integer"},"routeTitle":{"type":"string"},"questions":{"type":"array","items":{"$ref":"#/definitions/QuestionSpecificationDto"}},"passengers":{"type":"array","items":{"$ref":"#/definitions/PassengerQuestionsDto"}},"pickupQuestions":{"type":"array","items":{"$ref":"#/definitions/QuestionSpecificationDto"}},"dropoffQuestions":{"type":"array","items":{"$ref":"#/definitions/QuestionSpecificationDto"}}}}}}