{"$schema":"http://json-schema.org/draft-04/schema#","title":"Checkout Request","type":"object","additionalProperties":false,"properties":{"checkoutOption":{"type":"string","enum":["AGENT_AFFILIATE","AGENT_CUSTOMER","AGENT_RESELLER","CUSTOMER_FULL_PAYMENT","CUSTOMER_PARTIAL_PAYMENT","CUSTOMER_NO_PAYMENT"]},"paymentMethod":{"type":"string","enum":["CARD","CASH","VOUCHER","RESERVE_FOR_EXTERNAL_PAYMENT"]},"source":{"type":"string","enum":["SHOPPING_CART","DIRECT_REQUEST"]},"shoppingCart":{"$ref":"#/definitions/ShoppingCartCheckout"},"directBooking":{"$ref":"#/definitions/BookingRequest"},"sendNotificationToMainContact":{"type":"boolean"},"showPricesInNotification":{"type":"boolean"},"amount":{"type":"number"},"currency":{"type":"string"},"uti":{"type":"string"},"paymentToken":{"$ref":"#/definitions/TokenCharge"},"paymentCard":{"$ref":"#/definitions/CardCharge"},"transactionDetails":{"$ref":"#/definitions/TransactionDetails"},"successUrl":{"type":"string"},"errorUrl":{"type":"string"},"cancelUrl":{"type":"string"},"acceptDccQuote":{"type":"boolean"},"providerPaymentParameters":{"type":"object","additionalProperties":{"type":"string"}},"cardPaymentProviderAnswers":{"type":"array","items":{"$ref":"#/definitions/AnswerDto"}},"checkoutOptionAnswers":{"type":"array","items":{"$ref":"#/definitions/AnswerDto"}},"affiliateCode":{"type":"string"},"externalBookingReference":{"type":"string"}},"definitions":{"ShoppingCartCheckout":{"type":"object","additionalProperties":false,"properties":{"uuid":{"type":"string"},"externalBookingReference":{"type":"string"},"bookingAnswers":{"$ref":"#/definitions/BookingAnswersDto"}}},"BookingAnswersDto":{"type":"object","additionalProperties":false,"properties":{"mainContactDetails":{"type":"array","items":{"$ref":"#/definitions/AnswerDto"}},"activityBookings":{"type":"array","items":{"$ref":"#/definitions/ActivityBookingAnswersDto"}},"accommodationBookings":{"type":"array","items":{"$ref":"#/definitions/AccommodationBookingAnswersDto"}},"rentalBookings":{"type":"array","items":{"$ref":"#/definitions/RentalBookingAnswersDto"}},"transportBookings":{"type":"array","items":{"$ref":"#/definitions/TransportBookingAnswersDto"}}}},"AnswerDto":{"type":"object","additionalProperties":false,"properties":{"questionId":{"type":"string"},"values":{"type":"array","items":{"type":"string"}}}},"ActivityBookingAnswersDto":{"type":"object","additionalProperties":false,"properties":{"activityId":{"type":"integer"},"answers":{"type":"array","items":{"$ref":"#/definitions/AnswerDto"}},"pickupAnswers":{"type":"array","items":{"$ref":"#/definitions/AnswerDto"}},"dropoffAnswers":{"type":"array","items":{"$ref":"#/definitions/AnswerDto"}},"bookingId":{"type":"integer"},"passengers":{"type":"array","items":{"$ref":"#/definitions/PassengerAnswersDto"}}}},"PassengerAnswersDto":{"type":"object","additionalProperties":false,"properties":{"pricingCategoryId":{"type":"integer"},"passengerDetails":{"type":"array","items":{"$ref":"#/definitions/AnswerDto"}},"answers":{"type":"array","items":{"$ref":"#/definitions/AnswerDto"}},"bookingId":{"type":"integer"},"extras":{"type":"array","items":{"$ref":"#/definitions/ExtraAnswersDto"}}}},"ExtraAnswersDto":{"type":"object","additionalProperties":false,"properties":{"extraId":{"type":"integer"},"answers":{"type":"array","items":{"$ref":"#/definitions/AnswerDto"}},"bookingId":{"type":"integer"}}},"AccommodationBookingAnswersDto":{"type":"object","additionalProperties":false,"properties":{"accommodationId":{"type":"integer"},"answers":{"type":"array","items":{"$ref":"#/definitions/AnswerDto"}},"bookingId":{"type":"integer"},"rooms":{"type":"array","items":{"$ref":"#/definitions/RoomAnswersDto"}}}},"RoomAnswersDto":{"type":"object","additionalProperties":false,"properties":{"roomTypeId":{"type":"integer"},"answers":{"type":"array","items":{"$ref":"#/definitions/AnswerDto"}},"guests":{"type":"array","items":{"$ref":"#/definitions/PersonAnswersDto"}},"bookingId":{"type":"integer"},"extras":{"type":"array","items":{"$ref":"#/definitions/ExtraAnswersDto"}}}},"PersonAnswersDto":{"type":"object","additionalProperties":false,"properties":{"details":{"type":"array","items":{"$ref":"#/definitions/AnswerDto"}}}},"RentalBookingAnswersDto":{"type":"object","additionalProperties":false,"properties":{"rentalId":{"type":"integer"},"answers":{"type":"array","items":{"$ref":"#/definitions/AnswerDto"}},"bookingId":{"type":"integer"},"items":{"type":"array","items":{"$ref":"#/definitions/ItemAnswersDto"}}}},"ItemAnswersDto":{"type":"object","additionalProperties":false,"properties":{"itemTypeId":{"type":"integer"},"answers":{"type":"array","items":{"$ref":"#/definitions/AnswerDto"}},"people":{"type":"array","items":{"$ref":"#/definitions/PersonAnswersDto"}},"bookingId":{"type":"integer"},"extras":{"type":"array","items":{"$ref":"#/definitions/ExtraAnswersDto"}}}},"TransportBookingAnswersDto":{"type":"object","additionalProperties":false,"properties":{"bookingId":{"type":"integer"},"routeId":{"type":"integer"},"answers":{"type":"array","items":{"$ref":"#/definitions/AnswerDto"}},"pickupAnswers":{"type":"array","items":{"$ref":"#/definitions/AnswerDto"}},"dropoffAnswers":{"type":"array","items":{"$ref":"#/definitions/AnswerDto"}},"passengers":{"type":"array","items":{"$ref":"#/definitions/PassengerAnswersDto"}}}},"BookingRequest":{"type":"object","additionalProperties":false,"properties":{"mainContactDetails":{"type":"array","items":{"$ref":"#/definitions/AnswerDto"}},"activityBookings":{"type":"array","items":{"$ref":"#/definitions/ActivityBookingRequest"}},"accommodationBookings":{"type":"array","items":{"$ref":"#/definitions/AccommodationBookingRequest"}},"rentalBookings":{"type":"array","items":{"$ref":"#/definitions/RentalBookingRequest"}},"discountPercentage":{"type":"number"},"externalBookingReference":{"type":"string"},"labels":{"type":"array","items":{"type":"string"}},"promoCode":{"type":"string"},"giftCardCode":{"type":"string"}}},"ActivityBookingRequest":{"type":"object","additionalProperties":false,"properties":{"activityId":{"type":"integer"},"answers":{"type":"array","items":{"$ref":"#/definitions/AnswerDto"}},"pickupAnswers":{"type":"array","items":{"$ref":"#/definitions/AnswerDto"}},"dropoffAnswers":{"type":"array","items":{"$ref":"#/definitions/AnswerDto"}},"rateId":{"type":"integer"},"startTimeId":{"type":"integer"},"date":{"type":"string"},"pickup":{"type":"boolean"},"pickupPlaceId":{"type":"integer"},"pickupDescription":{"type":"string"},"dropoff":{"type":"boolean"},"dropoffPlaceId":{"type":"integer"},"dropoffDescription":{"type":"string"},"checkedIn":{"type":"boolean"},"note":{"type":"string"},"customized":{"type":"boolean"},"customizedTitle":{"type":"string"},"customizedItinerary":{"type":"string"},"customizedTime":{"type":"string"},"customizedDurationMinutes":{"type":"integer"},"customizedDurationHours":{"type":"integer"},"customizedDurationDays":{"type":"integer"},"customizedDurationWeeks":{"type":"integer"},"customizedLineItems":{"type":"array","items":{"$ref":"#/definitions/CustomBookingLineItem"}},"customizedPrice":{"type":"number"},"onRequest":{"$ref":"#/definitions/OnRequestSettings"},"passengers":{"type":"array","items":{"$ref":"#/definitions/PassengerBookingRequest"}}},"required":["pickup","dropoff","checkedIn","customized","customizedDurationMinutes","customizedDurationHours","customizedDurationDays","customizedDurationWeeks"]},"CustomBookingLineItem":{"type":"object","additionalProperties":false,"properties":{"description":{"type":"string"},"quantity":{"type":"integer"},"unitPrice":{"type":"number"},"discountPercentage":{"type":"number"},"taxPercentage":{"type":"number"}},"required":["quantity","unitPrice","discountPercentage","taxPercentage"]},"OnRequestSettings":{"type":"object","additionalProperties":false,"properties":{"responseDeadline":{"type":"string"},"responseCallbackUrl":{"type":"string"}}},"PassengerBookingRequest":{"type":"object","additionalProperties":false,"properties":{"pricingCategoryId":{"type":"integer"},"passengerDetails":{"type":"array","items":{"$ref":"#/definitions/AnswerDto"}},"answers":{"type":"array","items":{"$ref":"#/definitions/AnswerDto"}},"extras":{"type":"array","items":{"$ref":"#/definitions/ExtraBookingRequest"}}}},"ExtraBookingRequest":{"type":"object","additionalProperties":false,"properties":{"extraId":{"type":"integer"},"answers":{"type":"array","items":{"$ref":"#/definitions/AnswerDto"}},"quantity":{"type":"integer"}},"required":["quantity"]},"AccommodationBookingRequest":{"type":"object","additionalProperties":false,"properties":{"accommodationId":{"type":"integer"},"answers":{"type":"array","items":{"$ref":"#/definitions/AnswerDto"}},"travelType":{"type":"string","enum":["BUSINESS","LEISURE","CONFERENCE"]},"note":{"type":"string"},"rooms":{"type":"array","items":{"$ref":"#/definitions/RoomBookingRequest"}}}},"RoomBookingRequest":{"type":"object","additionalProperties":false,"properties":{"roomTypeId":{"type":"integer"},"answers":{"type":"array","items":{"$ref":"#/definitions/AnswerDto"}},"guests":{"type":"array","items":{"$ref":"#/definitions/PersonAnswersDto"}},"roomRateId":{"type":"integer"},"roomId":{"type":"integer"},"externalReference":{"type":"string"},"checkInDate":{"type":"string"},"checkOutDate":{"type":"string"},"adults":{"type":"integer"},"children":{"type":"integer"},"infants":{"type":"integer"},"extras":{"type":"array","items":{"$ref":"#/definitions/ExtraBookingRequest"}}},"required":["adults","children","infants"]},"RentalBookingRequest":{"type":"object","additionalProperties":false,"properties":{"rentalId":{"type":"integer"},"answers":{"type":"array","items":{"$ref":"#/definitions/AnswerDto"}},"pickupDateAndTime":{"type":"string"},"dropoffDateAndTime":{"type":"string"},"pickupPlaceId":{"type":"integer"},"dropoffPlaceId":{"type":"integer"},"note":{"type":"string"},"items":{"type":"array","items":{"$ref":"#/definitions/ItemBookingRequest"}}}},"ItemBookingRequest":{"type":"object","additionalProperties":false,"properties":{"itemTypeId":{"type":"integer"},"answers":{"type":"array","items":{"$ref":"#/definitions/AnswerDto"}},"people":{"type":"array","items":{"$ref":"#/definitions/PersonAnswersDto"}},"quantity":{"type":"integer"},"extras":{"type":"array","items":{"$ref":"#/definitions/ExtraBookingRequest"}}},"required":["quantity"]},"TokenCharge":{"type":"object","additionalProperties":false,"properties":{"token":{"type":"string"}}},"CardCharge":{"type":"object","additionalProperties":false,"properties":{"name":{"type":"string"},"cardNumber":{"type":"string"},"expiryMonth":{"type":"integer"},"expiryYear":{"type":"integer"},"cvc":{"type":"string"}},"required":["expiryMonth","expiryYear"]},"TransactionDetails":{"type":"object","additionalProperties":false,"properties":{"transactionDate":{"type":"string"},"transactionId":{"type":"string"},"cardBrand":{"type":"string"},"last4":{"type":"string"}}}}}